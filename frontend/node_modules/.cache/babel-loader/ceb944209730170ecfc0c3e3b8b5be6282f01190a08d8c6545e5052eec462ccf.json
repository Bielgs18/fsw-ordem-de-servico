{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bielg\\\\Documents\\\\ProjetosVSCode\\\\fsw-ordem-de-servico\\\\frontend\\\\src\\\\pages\\\\OrdemServicoAtender.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport CampoAssinatura from '../components/CampoAssinatura';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrdemServicoAtender = ({\n  match\n}) => {\n  _s();\n  var _match$params;\n  const [ordem, setOrdem] = useState({\n    descricao_servico: '',\n    estado_equipamento: '',\n    pecas_utilizadas: '',\n    nome_acompanhante: '',\n    imagens_servico: [],\n    status: '',\n    comentarios_observacoes: [],\n    novo_comentario: '',\n    data_finalizacao: '',\n    assinatura_tecnico: '',\n    assinatura_acompanhante: ''\n  });\n  const [dadosOrbita, setDadosOrbita] = useState({\n    numero_protocolo: '',\n    nome_solicitante: '',\n    telefone_solicitante: '',\n    data_abertura: '',\n    data_agendamento: '',\n    nome_empresa: '',\n    endereco: '',\n    problema_reportado: '',\n    tipo_visita: '',\n    modalidade: '',\n    nome_tecnico: '',\n    numero_serie: '',\n    nome_equipamento: '',\n    cnpj: '',\n    email: '',\n    responsavel: ''\n  });\n  const ordemId = (match === null || match === void 0 ? void 0 : (_match$params = match.params) === null || _match$params === void 0 ? void 0 : _match$params.id) || '1';\n  const usuarioLogado = 'Carlos Souza';\n  useEffect(() => {\n    const carregarDados = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/api/ordem-servico/${ordemId}`);\n        if (!response.ok) throw new Error('Erro ao carregar ordem');\n        const data = await response.json();\n        setOrdem({\n          descricao_servico: data.descricao_servico || '',\n          estado_equipamento: data.estado_equipamento || '',\n          pecas_utilizadas: data.pecas_utilizadas || '',\n          nome_acompanhante: data.nome_acompanhante || '',\n          imagens_servico: data.imagens_servico ? JSON.parse(data.imagens_servico) : [],\n          status: data.status || '',\n          comentarios_observacoes: data.comentarios_observacoes ? JSON.parse(data.comentarios_observacoes) : [],\n          novo_comentario: '',\n          data_finalizacao: data.data_finalizacao || '',\n          assinatura_tecnico: data.assinatura_tecnico || '',\n          assinatura_acompanhante: data.assinatura_acompanhante || ''\n        });\n        setDadosOrbita({\n          numero_protocolo: data.numero_protocolo || '',\n          nome_solicitante: data.nome_solicitante || '',\n          telefone_solicitante: data.telefone_solicitante || '',\n          data_abertura: data.data_abertura || '',\n          data_agendamento: data.data_agendamento || '',\n          nome_empresa: data.nome_empresa || '',\n          endereco: data.endereco || '',\n          problema_reportado: data.problema_reportado || '',\n          tipo_visita: data.tipo_visita || '',\n          modalidade: data.modalidade || '',\n          nome_tecnico: data.nome_tecnico || '',\n          numero_serie: data.numero_serie || '',\n          nome_equipamento: data.nome_equipamento || '',\n          cnpj: data.cnpj || '',\n          email: data.email || '',\n          responsavel: data.responsavel || ''\n        });\n      } catch (err) {\n        console.error('Erro ao carregar dados da ordem:', err);\n      }\n    };\n    carregarDados();\n  }, [ordemId]);\n\n  // Salva a ordem no backend (só a assinatura)\n  const salvarAssinatura = async (campo, novaAssinatura) => {\n    try {\n      setOrdem(prev => ({\n        ...prev,\n        [campo]: novaAssinatura\n      }));\n      const response = await fetch(`http://localhost:5000/api/ordem-servico/${ordemId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          assinatura_tecnico: campo === 'assinatura_tecnico' ? novaAssinatura : ordem.assinatura_tecnico,\n          assinatura_acompanhante: campo === 'assinatura_acompanhante' ? novaAssinatura : ordem.assinatura_acompanhante\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Falha ao salvar assinatura');\n      }\n    } catch (err) {\n      console.error('Erro ao salvar assinatura:', err);\n      alert('Erro ao salvar a assinatura. Tente novamente.');\n    }\n  };\n\n  // Auto-save simples para outros campos\n  const autoSave = async dadosAtualizados => {\n    try {\n      await fetch(`http://localhost:5000/api/ordem-servico/${ordemId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(dadosAtualizados)\n      });\n    } catch (err) {\n      console.error('Erro no auto-save:', err);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const updated = {\n      ...ordem,\n      [name]: value\n    };\n    if (name === 'status' && value === 'finalizado') {\n      updated.data_finalizacao = new Date().toISOString();\n    }\n    setOrdem(updated);\n    autoSave(updated);\n  };\n  const handleAddComentario = () => {\n    if (!ordem.novo_comentario.trim()) return;\n    const novoComentario = {\n      autor: usuarioLogado,\n      data: new Date().toISOString(),\n      texto: ordem.novo_comentario.trim()\n    };\n    const updated = {\n      ...ordem,\n      comentarios_observacoes: [...ordem.comentarios_observacoes, novoComentario],\n      novo_comentario: ''\n    };\n    setOrdem(updated);\n    autoSave(updated);\n  };\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    // Garante não duplicar imagens iguais\n    const updatedImgs = [...ordem.imagens_servico, ...files];\n    setOrdem(prev => ({\n      ...prev,\n      imagens_servico: updatedImgs\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const formData = new FormData();\n      formData.append('descricao_servico', ordem.descricao_servico);\n      formData.append('estado_equipamento', ordem.estado_equipamento);\n      formData.append('pecas_utilizadas', ordem.pecas_utilizadas);\n      formData.append('nome_acompanhante', ordem.nome_acompanhante);\n      formData.append('status', ordem.status);\n      formData.append('comentarios_observacoes', JSON.stringify(ordem.comentarios_observacoes));\n      formData.append('novo_comentario', ordem.novo_comentario);\n      formData.append('data_finalizacao', ordem.data_finalizacao || '');\n      formData.append('assinatura_tecnico', ordem.assinatura_tecnico);\n      formData.append('assinatura_acompanhante', ordem.assinatura_acompanhante);\n      for (const img of ordem.imagens_servico) {\n        formData.append('imagens_servico', img);\n      }\n      const response = await fetch(`http://localhost:5000/api/ordem-servico/${ordemId}`, {\n        method: 'PUT',\n        body: formData\n      });\n      if (response.ok) {\n        alert('Ordem de serviço atualizada com sucesso!');\n      } else {\n        alert('Erro ao salvar a ordem de serviço.');\n        console.error(await response.text());\n      }\n    } catch (error) {\n      console.error('Erro ao enviar ordem:', error);\n      alert('Erro ao conectar com o servidor.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Editar Ordem de Servi\\xE7o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: \"dados-orbita\",\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        children: \"Dados do \\xD3rbita App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"N\\xFAmero de Protocolo:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.numero_protocolo]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Nome do Solicitante:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.nome_solicitante]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Telefone do Solicitante:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.telefone_solicitante]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Data da Abertura:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.data_abertura ? new Date(dadosOrbita.data_abertura).toLocaleString() : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Data do Agendamento:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.data_agendamento ? new Date(dadosOrbita.data_agendamento).toLocaleString() : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"N\\xFAmero de S\\xE9rie:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.numero_serie]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Nome do Equipamento:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.nome_equipamento]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Nome da Empresa:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.nome_empresa]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"CNPJ:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.cnpj]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Endere\\xE7o:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.endereco]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"E-mail:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Respons\\xE1vel:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.responsavel]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Problema Reportado:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.problema_reportado]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Tipo de Visita:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.tipo_visita]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Modalidade:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.modalidade]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"T\\xE9cnico Respons\\xE1vel:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 12\n        }, this), \" \", dadosOrbita.nome_tecnico]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form-ordem-servico\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Descri\\xE7\\xE3o do Servi\\xE7o:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"descricao_servico\",\n          value: ordem.descricao_servico,\n          onChange: handleChange,\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Estado do Equipamento:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"estado_equipamento\",\n          value: ordem.estado_equipamento,\n          onChange: handleChange,\n          rows: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Pe\\xE7as Utilizadas:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"pecas_utilizadas\",\n          value: ordem.pecas_utilizadas,\n          onChange: handleChange,\n          rows: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Nome do Acompanhante:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"nome_acompanhante\",\n          value: ordem.nome_acompanhante,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Imagens do Servi\\xE7o:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          multiple: true,\n          accept: \"image/*\",\n          onChange: handleImageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"imagens-preview\",\n        children: ordem.imagens_servico && ordem.imagens_servico.length > 0 ? ordem.imagens_servico.map((img, idx) => {\n          // Se for File, criar URL temporária\n          const src = typeof img === 'string' ? img : URL.createObjectURL(img);\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            src: src,\n            alt: `Imagem ${idx + 1}`,\n            style: {\n              maxWidth: 150,\n              marginRight: 8\n            },\n            onLoad: () => {\n              if (typeof img !== 'string') {\n                URL.revokeObjectURL(src);\n              }\n            }\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Sem imagens adicionadas.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Status da Ordem:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"status\",\n          value: ordem.status,\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecione\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"aberto\",\n            children: \"Aberto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"em_andamento\",\n            children: \"Em andamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"finalizado\",\n            children: \"Finalizado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        className: \"comentarios\",\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Coment\\xE1rios e Observa\\xE7\\xF5es\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), ordem.comentarios_observacoes.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Sem coment\\xE1rios ainda.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 58\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: ordem.comentarios_observacoes.map((comentario, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: comentario.autor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), \" (\", new Date(comentario.data).toLocaleString(), \"):\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 100\n            }, this), comentario.texto]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"novo_comentario\",\n          value: ordem.novo_comentario,\n          onChange: handleChange,\n          placeholder: \"Digite um novo coment\\xE1rio...\",\n          rows: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleAddComentario,\n          children: \"Adicionar Coment\\xE1rio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        className: \"assinaturas\",\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Assinaturas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Assinatura do T\\xE9cnico:\", /*#__PURE__*/_jsxDEV(CampoAssinatura, {\n            id: \"assinatura_tecnico\",\n            assinatura: ordem.assinatura_tecnico,\n            onSave: novaAss => salvarAssinatura('assinatura_tecnico', novaAss)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Assinatura do Acompanhante:\", /*#__PURE__*/_jsxDEV(CampoAssinatura, {\n            id: \"assinatura_acompanhante\",\n            assinatura: ordem.assinatura_acompanhante,\n            onSave: novaAss => salvarAssinatura('assinatura_acompanhante', novaAss)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Salvar Ordem de Servi\\xE7o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .container {\n          max-width: 900px;\n          margin: auto;\n          padding: 20px;\n          font-family: Arial, sans-serif;\n        }\n        fieldset {\n          margin-bottom: 20px;\n          padding: 15px;\n          border: 1px solid #ccc;\n          border-radius: 8px;\n        }\n        legend {\n          font-weight: bold;\n          padding: 0 5px;\n        }\n        label {\n          display: block;\n          margin-bottom: 15px;\n        }\n        input[type=\"text\"], textarea, select {\n          width: 100%;\n          padding: 8px;\n          margin-top: 5px;\n          box-sizing: border-box;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n        }\n        .imagens-preview img {\n          border: 1px solid #ddd;\n          border-radius: 4px;\n        }\n        button {\n          cursor: pointer;\n          background-color: #0070f3;\n          color: white;\n          border: none;\n          padding: 10px 15px;\n          border-radius: 5px;\n          font-size: 16px;\n          transition: background-color 0.3s ease;\n        }\n        button:hover {\n          background-color: #005bb5;\n        }\n        ul {\n          list-style-type: none;\n          padding-left: 0;\n        }\n        ul li {\n          background: #f9f9f9;\n          border: 1px solid #ddd;\n          margin-bottom: 8px;\n          padding: 8px;\n          border-radius: 4px;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(OrdemServicoAtender, \"+FUOEDyaPP7Ddf+oS7htT6FR0p4=\");\n_c = OrdemServicoAtender;\nexport default OrdemServicoAtender;\nvar _c;\n$RefreshReg$(_c, \"OrdemServicoAtender\");","map":{"version":3,"names":["React","useState","useEffect","CampoAssinatura","jsxDEV","_jsxDEV","OrdemServicoAtender","match","_s","_match$params","ordem","setOrdem","descricao_servico","estado_equipamento","pecas_utilizadas","nome_acompanhante","imagens_servico","status","comentarios_observacoes","novo_comentario","data_finalizacao","assinatura_tecnico","assinatura_acompanhante","dadosOrbita","setDadosOrbita","numero_protocolo","nome_solicitante","telefone_solicitante","data_abertura","data_agendamento","nome_empresa","endereco","problema_reportado","tipo_visita","modalidade","nome_tecnico","numero_serie","nome_equipamento","cnpj","email","responsavel","ordemId","params","id","usuarioLogado","carregarDados","response","fetch","ok","Error","data","json","JSON","parse","err","console","error","salvarAssinatura","campo","novaAssinatura","prev","method","headers","body","stringify","alert","autoSave","dadosAtualizados","handleChange","e","name","value","target","updated","Date","toISOString","handleAddComentario","trim","novoComentario","autor","texto","handleImageChange","files","Array","from","updatedImgs","handleSubmit","preventDefault","formData","FormData","append","img","text","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","onSubmit","onChange","rows","type","multiple","accept","length","map","idx","src","URL","createObjectURL","alt","style","maxWidth","marginRight","onLoad","revokeObjectURL","comentario","placeholder","onClick","assinatura","onSave","novaAss","jsx","_c","$RefreshReg$"],"sources":["C:/Users/bielg/Documents/ProjetosVSCode/fsw-ordem-de-servico/frontend/src/pages/OrdemServicoAtender.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport CampoAssinatura from '../components/CampoAssinatura';\r\n\r\nconst OrdemServicoAtender = ({ match }) => {\r\n  const [ordem, setOrdem] = useState({\r\n    descricao_servico: '',\r\n    estado_equipamento: '',\r\n    pecas_utilizadas: '',\r\n    nome_acompanhante: '',\r\n    imagens_servico: [],\r\n    status: '',\r\n    comentarios_observacoes: [],\r\n    novo_comentario: '',\r\n    data_finalizacao: '',\r\n    assinatura_tecnico: '',\r\n    assinatura_acompanhante: ''\r\n  });\r\n\r\n  const [dadosOrbita, setDadosOrbita] = useState({\r\n    numero_protocolo: '',\r\n    nome_solicitante: '',\r\n    telefone_solicitante: '',\r\n    data_abertura: '',\r\n    data_agendamento: '',\r\n    nome_empresa: '',\r\n    endereco: '',\r\n    problema_reportado: '',\r\n    tipo_visita: '',\r\n    modalidade: '',\r\n    nome_tecnico: '',\r\n    numero_serie: '',\r\n    nome_equipamento: '',\r\n    cnpj: '',\r\n    email: '',\r\n    responsavel: ''\r\n  });\r\n\r\n  const ordemId = match?.params?.id || '1';\r\n  const usuarioLogado = 'Carlos Souza';\r\n\r\n  useEffect(() => {\r\n    const carregarDados = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/ordem-servico/${ordemId}`);\r\n        if (!response.ok) throw new Error('Erro ao carregar ordem');\r\n\r\n        const data = await response.json();\r\n\r\n        setOrdem({\r\n          descricao_servico: data.descricao_servico || '',\r\n          estado_equipamento: data.estado_equipamento || '',\r\n          pecas_utilizadas: data.pecas_utilizadas || '',\r\n          nome_acompanhante: data.nome_acompanhante || '',\r\n          imagens_servico: data.imagens_servico ? JSON.parse(data.imagens_servico) : [],\r\n          status: data.status || '',\r\n          comentarios_observacoes: data.comentarios_observacoes ? JSON.parse(data.comentarios_observacoes) : [],\r\n          novo_comentario: '',\r\n          data_finalizacao: data.data_finalizacao || '',\r\n          assinatura_tecnico: data.assinatura_tecnico || '',\r\n          assinatura_acompanhante: data.assinatura_acompanhante || ''\r\n        });\r\n\r\n        setDadosOrbita({\r\n          numero_protocolo: data.numero_protocolo || '',\r\n          nome_solicitante: data.nome_solicitante || '',\r\n          telefone_solicitante: data.telefone_solicitante || '',\r\n          data_abertura: data.data_abertura || '',\r\n          data_agendamento: data.data_agendamento || '',\r\n          nome_empresa: data.nome_empresa || '',\r\n          endereco: data.endereco || '',\r\n          problema_reportado: data.problema_reportado || '',\r\n          tipo_visita: data.tipo_visita || '',\r\n          modalidade: data.modalidade || '',\r\n          nome_tecnico: data.nome_tecnico || '',\r\n          numero_serie: data.numero_serie || '',\r\n          nome_equipamento: data.nome_equipamento || '',\r\n          cnpj: data.cnpj || '',\r\n          email: data.email || '',\r\n          responsavel: data.responsavel || ''\r\n        });\r\n      } catch (err) {\r\n        console.error('Erro ao carregar dados da ordem:', err);\r\n      }\r\n    };\r\n\r\n    carregarDados();\r\n  }, [ordemId]);\r\n\r\n  // Salva a ordem no backend (só a assinatura)\r\n  const salvarAssinatura = async (campo, novaAssinatura) => {\r\n    try {\r\n      setOrdem(prev => ({ ...prev, [campo]: novaAssinatura }));\r\n\r\n      const response = await fetch(`http://localhost:5000/api/ordem-servico/${ordemId}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          assinatura_tecnico: campo === 'assinatura_tecnico' ? novaAssinatura : ordem.assinatura_tecnico,\r\n          assinatura_acompanhante: campo === 'assinatura_acompanhante' ? novaAssinatura : ordem.assinatura_acompanhante,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Falha ao salvar assinatura');\r\n      }\r\n    } catch (err) {\r\n      console.error('Erro ao salvar assinatura:', err);\r\n      alert('Erro ao salvar a assinatura. Tente novamente.');\r\n    }\r\n  };\r\n\r\n  // Auto-save simples para outros campos\r\n  const autoSave = async (dadosAtualizados) => {\r\n    try {\r\n      await fetch(`http://localhost:5000/api/ordem-servico/${ordemId}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(dadosAtualizados)\r\n      });\r\n    } catch (err) {\r\n      console.error('Erro no auto-save:', err);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const updated = { ...ordem, [name]: value };\r\n\r\n    if (name === 'status' && value === 'finalizado') {\r\n      updated.data_finalizacao = new Date().toISOString();\r\n    }\r\n\r\n    setOrdem(updated);\r\n    autoSave(updated);\r\n  };\r\n\r\n  const handleAddComentario = () => {\r\n    if (!ordem.novo_comentario.trim()) return;\r\n\r\n    const novoComentario = {\r\n      autor: usuarioLogado,\r\n      data: new Date().toISOString(),\r\n      texto: ordem.novo_comentario.trim()\r\n    };\r\n\r\n    const updated = {\r\n      ...ordem,\r\n      comentarios_observacoes: [...ordem.comentarios_observacoes, novoComentario],\r\n      novo_comentario: ''\r\n    };\r\n\r\n    setOrdem(updated);\r\n    autoSave(updated);\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    // Garante não duplicar imagens iguais\r\n    const updatedImgs = [...ordem.imagens_servico, ...files];\r\n    setOrdem(prev => ({ ...prev, imagens_servico: updatedImgs }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('descricao_servico', ordem.descricao_servico);\r\n      formData.append('estado_equipamento', ordem.estado_equipamento);\r\n      formData.append('pecas_utilizadas', ordem.pecas_utilizadas);\r\n      formData.append('nome_acompanhante', ordem.nome_acompanhante);\r\n      formData.append('status', ordem.status);\r\n      formData.append('comentarios_observacoes', JSON.stringify(ordem.comentarios_observacoes));\r\n      formData.append('novo_comentario', ordem.novo_comentario);\r\n      formData.append('data_finalizacao', ordem.data_finalizacao || '');\r\n      formData.append('assinatura_tecnico', ordem.assinatura_tecnico);\r\n      formData.append('assinatura_acompanhante', ordem.assinatura_acompanhante);\r\n\r\n      for (const img of ordem.imagens_servico) {\r\n        formData.append('imagens_servico', img);\r\n      }\r\n\r\n      const response = await fetch(`http://localhost:5000/api/ordem-servico/${ordemId}`, {\r\n        method: 'PUT',\r\n        body: formData\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Ordem de serviço atualizada com sucesso!');\r\n      } else {\r\n        alert('Erro ao salvar a ordem de serviço.');\r\n        console.error(await response.text());\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao enviar ordem:', error);\r\n      alert('Erro ao conectar com o servidor.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Editar Ordem de Serviço</h2>\r\n\r\n      <fieldset className=\"dados-orbita\">\r\n        <legend>Dados do Órbita App</legend>\r\n        <p><strong>Número de Protocolo:</strong> {dadosOrbita.numero_protocolo}</p>\r\n        <p><strong>Nome do Solicitante:</strong> {dadosOrbita.nome_solicitante}</p>\r\n        <p><strong>Telefone do Solicitante:</strong> {dadosOrbita.telefone_solicitante}</p>\r\n        <p><strong>Data da Abertura:</strong> {dadosOrbita.data_abertura ? new Date(dadosOrbita.data_abertura).toLocaleString() : ''}</p>\r\n        <p><strong>Data do Agendamento:</strong> {dadosOrbita.data_agendamento ? new Date(dadosOrbita.data_agendamento).toLocaleString() : ''}</p>\r\n        <p><strong>Número de Série:</strong> {dadosOrbita.numero_serie}</p>\r\n        <p><strong>Nome do Equipamento:</strong> {dadosOrbita.nome_equipamento}</p>\r\n        <p><strong>Nome da Empresa:</strong> {dadosOrbita.nome_empresa}</p>\r\n        <p><strong>CNPJ:</strong> {dadosOrbita.cnpj}</p>\r\n        <p><strong>Endereço:</strong> {dadosOrbita.endereco}</p>\r\n        <p><strong>E-mail:</strong> {dadosOrbita.email}</p>\r\n        <p><strong>Responsável:</strong> {dadosOrbita.responsavel}</p>\r\n        <p><strong>Problema Reportado:</strong> {dadosOrbita.problema_reportado}</p>\r\n        <p><strong>Tipo de Visita:</strong> {dadosOrbita.tipo_visita}</p>\r\n        <p><strong>Modalidade:</strong> {dadosOrbita.modalidade}</p>\r\n        <p><strong>Técnico Responsável:</strong> {dadosOrbita.nome_tecnico}</p>\r\n      </fieldset>\r\n\r\n      <form onSubmit={handleSubmit} className=\"form-ordem-servico\">\r\n\r\n        <label>\r\n          Descrição do Serviço:\r\n          <textarea\r\n            name=\"descricao_servico\"\r\n            value={ordem.descricao_servico}\r\n            onChange={handleChange}\r\n            rows={4}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Estado do Equipamento:\r\n          <textarea\r\n            name=\"estado_equipamento\"\r\n            value={ordem.estado_equipamento}\r\n            onChange={handleChange}\r\n            rows={3}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Peças Utilizadas:\r\n          <textarea\r\n            name=\"pecas_utilizadas\"\r\n            value={ordem.pecas_utilizadas}\r\n            onChange={handleChange}\r\n            rows={3}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Nome do Acompanhante:\r\n          <input\r\n            type=\"text\"\r\n            name=\"nome_acompanhante\"\r\n            value={ordem.nome_acompanhante}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Imagens do Serviço:\r\n          <input\r\n            type=\"file\"\r\n            multiple\r\n            accept=\"image/*\"\r\n            onChange={handleImageChange}\r\n          />\r\n        </label>\r\n\r\n        <div className=\"imagens-preview\">\r\n          {ordem.imagens_servico && ordem.imagens_servico.length > 0 ? (\r\n            ordem.imagens_servico.map((img, idx) => {\r\n              // Se for File, criar URL temporária\r\n              const src = typeof img === 'string' ? img : URL.createObjectURL(img);\r\n              return (\r\n                <img\r\n                  key={idx}\r\n                  src={src}\r\n                  alt={`Imagem ${idx + 1}`}\r\n                  style={{ maxWidth: 150, marginRight: 8 }}\r\n                  onLoad={() => {\r\n                    if (typeof img !== 'string') {\r\n                      URL.revokeObjectURL(src);\r\n                    }\r\n                  }}\r\n                />\r\n              );\r\n            })\r\n          ) : (\r\n            <p>Sem imagens adicionadas.</p>\r\n          )}\r\n        </div>\r\n\r\n        <label>\r\n          Status da Ordem:\r\n          <select name=\"status\" value={ordem.status} onChange={handleChange}>\r\n            <option value=\"\">Selecione</option>\r\n            <option value=\"aberto\">Aberto</option>\r\n            <option value=\"em_andamento\">Em andamento</option>\r\n            <option value=\"finalizado\">Finalizado</option>\r\n          </select>\r\n        </label>\r\n\r\n        <fieldset className=\"comentarios\">\r\n          <legend>Comentários e Observações</legend>\r\n          {ordem.comentarios_observacoes.length === 0 && <p>Sem comentários ainda.</p>}\r\n          <ul>\r\n            {ordem.comentarios_observacoes.map((comentario, idx) => (\r\n              <li key={idx}>\r\n                <strong>{comentario.autor}</strong> ({new Date(comentario.data).toLocaleString()}):<br />\r\n                {comentario.texto}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <textarea\r\n            name=\"novo_comentario\"\r\n            value={ordem.novo_comentario}\r\n            onChange={handleChange}\r\n            placeholder=\"Digite um novo comentário...\"\r\n            rows={3}\r\n          />\r\n          <button type=\"button\" onClick={handleAddComentario}>Adicionar Comentário</button>\r\n        </fieldset>\r\n\r\n        <fieldset className=\"assinaturas\">\r\n          <legend>Assinaturas</legend>\r\n          <label>\r\n            Assinatura do Técnico:\r\n            <CampoAssinatura\r\n              id=\"assinatura_tecnico\"\r\n              assinatura={ordem.assinatura_tecnico}\r\n              onSave={(novaAss) => salvarAssinatura('assinatura_tecnico', novaAss)}\r\n            />\r\n          </label>\r\n          <label>\r\n            Assinatura do Acompanhante:\r\n            <CampoAssinatura\r\n              id=\"assinatura_acompanhante\"\r\n              assinatura={ordem.assinatura_acompanhante}\r\n              onSave={(novaAss) => salvarAssinatura('assinatura_acompanhante', novaAss)}\r\n            />\r\n          </label>\r\n        </fieldset>\r\n\r\n        <button type=\"submit\">Salvar Ordem de Serviço</button>\r\n      </form>\r\n\r\n      <style jsx>{`\r\n        .container {\r\n          max-width: 900px;\r\n          margin: auto;\r\n          padding: 20px;\r\n          font-family: Arial, sans-serif;\r\n        }\r\n        fieldset {\r\n          margin-bottom: 20px;\r\n          padding: 15px;\r\n          border: 1px solid #ccc;\r\n          border-radius: 8px;\r\n        }\r\n        legend {\r\n          font-weight: bold;\r\n          padding: 0 5px;\r\n        }\r\n        label {\r\n          display: block;\r\n          margin-bottom: 15px;\r\n        }\r\n        input[type=\"text\"], textarea, select {\r\n          width: 100%;\r\n          padding: 8px;\r\n          margin-top: 5px;\r\n          box-sizing: border-box;\r\n          border: 1px solid #ccc;\r\n          border-radius: 4px;\r\n        }\r\n        .imagens-preview img {\r\n          border: 1px solid #ddd;\r\n          border-radius: 4px;\r\n        }\r\n        button {\r\n          cursor: pointer;\r\n          background-color: #0070f3;\r\n          color: white;\r\n          border: none;\r\n          padding: 10px 15px;\r\n          border-radius: 5px;\r\n          font-size: 16px;\r\n          transition: background-color 0.3s ease;\r\n        }\r\n        button:hover {\r\n          background-color: #005bb5;\r\n        }\r\n        ul {\r\n          list-style-type: none;\r\n          padding-left: 0;\r\n        }\r\n        ul li {\r\n          background: #f9f9f9;\r\n          border: 1px solid #ddd;\r\n          margin-bottom: 8px;\r\n          padding: 8px;\r\n          border-radius: 4px;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdemServicoAtender;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}